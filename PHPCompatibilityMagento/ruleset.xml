<?xml version="1.0"?>
<ruleset name="PHPCompatibilityMagento">
    <description>PHP 8 Compatibility</description>

    <!-- File extensions to be checked. -->
    <arg name="extensions" value="php,phtml,html/PHP,js/PHP"/>

    <rule ref="PHPCompatibility">
        <exclude name="PHPCompatibility.Miscellaneous.RemovedAlternativePHPTags.MaybeASPOpenTagFound" />
        <!-- Following sniffs has been updated or renamed in PHPCompatibility 10 -->
        <exclude name="PHPCompatibility.Constants.NewMagicClassConstant" />
        <exclude name="PHPCompatibility.Classes.ForbiddenAbstractPrivateMethods" />
        <!-- Check for cross-version support for stated PHP version and higher. -->
        <config name="testVersion" value="7.4-"/>
    </rule>
    <!--
     All these rules belong to the unreleased PhpCompatibility 10. Remove them once PHPCompatibility is
     updated to version 10
     -->
    <rule ref="PHPCompatibilityMagento.Attributes.NewAttributes" />
    <rule ref="PHPCompatibilityMagento.Constants.NewMagicClassConstant" />
    <rule ref="PHPCompatibilityMagento.ControlStructures.NewNonCapturingCatch" />
    <rule ref="PHPCompatibilityMagento.FunctionDeclarations.AbstractPrivateMethods" />
    <rule ref="PHPCompatibilityMagento.FunctionDeclarations.ForbiddenFinalPrivateMethods" />
    <rule ref="PHPCompatibilityMagento.FunctionDeclarations.NewTrailingComma" />
    <rule ref="PHPCompatibilityMagento.FunctionDeclarations.RemovedCallingDestructAfterConstructorExit" />
    <rule ref="PHPCompatibilityMagento.FunctionDeclarations.RemovedOptionalBeforeRequiredParam" />
    <rule ref="PHPCompatibilityMagento.ParameterValues.ChangedIntToBoolParamType" />
    <rule ref="PHPCompatibilityMagento.ParameterValues.RemovedAssertStringAssertion" />
    <rule ref="PHPCompatibilityMagento.ParameterValues.RemovedGetDefinedFunctionsExcludeDisabledFalse" />
    <rule ref="PHPCompatibilityMagento.ParameterValues.RemovedSplAutoloadRegisterThrowFalse" />
    <rule ref="PHPCompatibilityMagento.Syntax.NewInterpolatedStringDereferencing" />
    <rule ref="PHPCompatibilityMagento.Syntax.NewMagicConstantDereferencing" />
    <rule ref="PHPCompatibilityMagento.Syntax.NewNestedStaticAccess" />
</ruleset>
